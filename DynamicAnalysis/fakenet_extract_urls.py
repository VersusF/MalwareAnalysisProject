import os
import sys


if len(sys.argv) != 2:
    print('Please provide an output file', file=sys.stderr)
    exit(1)

urls = []
din = 'FakenetOutput/'
for file_name in os.listdir(din):
    with open(din + file_name, 'r') as fin:
        line = fin.readline()
        urls.append(line.split(' ')[1])

# remove duplicates
urls = sorted(set(urls))

with open(sys.argv[1], 'w') as fout:
    fout.write('\n'.join(urls) + '\n')
